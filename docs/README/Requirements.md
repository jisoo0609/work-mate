# Work Mate - 요구사항 정의서
## 주제
**아르바이트 출근부 : 출근 시간과 퇴근 시간을 기록해 급여를 확인할 수 있다.**

- 사용 대상: 아르바이트생, 직원(사업장의 급여 관리자. 매니저 또는 사장 등)
- 구현 기능:
    - 회원가입
    - 로그인
        - 아르바이트생
        - 직원 (사업장의 급여 관리자. 매니저 또는 사장 등)
        - 관리자
    - 출근 확인 기능 (출근시간 / 퇴근시간)
        - 위치 기반. 아르바이트생의 위치를 확인하여 출근 / 퇴근 여부 확인
    - 급여 확인
        - 해당 달의 출근 여부를 확인하여 급여 확인
        - 근무 기간 단위별 급여 총액 표시
    - 아르바이트 근무표
        - 근무변경기능 (대타신청 / 추가업무 등)
        - 근무표 확인기능
        - 역할분담기능 → 해당 직원들에게 각자의 역할 분담 (캐셔/서빙/주방담당 등)
    - +) 추가: 게시판 기능
        - 사장님께 하고 싶은 말 전달 가능
        - 캘린더에 가게 특이사항 적어두기
        - TossPayment를 이용해 급여를 사용자에게 전달할 수 있는 기능

### Tech
- 언어
  - java
- 프레임워크 
  - springboot framework
- 툴
  - intelliJ
- 사용기술
  - jpa
  - JWT
  - Lombok
  - Spring Security
  - OAuth
- 데이터베이스
  - mysql
- API
  - NCP
  - Jakarta Mail
- 추가 고려 사항:
  - DB 설계시에 `User` Entity명을 `User`대신 `Account` 등으로 대신해 추가한다.

## 개발 내용

1. **인증**

   JWT 기반의 토큰 인증 방식을 사용한다.

    - 회원가입
        - 사용자는 별도의 클라이언트를 통해 아이디와 비밀번호를 전달하여 로그인 가능하다.
        - 네이버 소셜 회원가입기능이 있다.
        - 회원가입시 이메일 인증기능을 사용한다.
    - 로그인
        - 네이버 소셜로그인까지 추가한다.
    - 권한
        - 세 종류의 사용자가 있다.
            - 일반 사용자 (아르바이트 생)
                - 일반 사용자는 다수의 사업장에 아르바이트를 등록할 수 있다.
            - 매장 관리자 (사업장의 급여 관리자. 매니저 또는 사장 등)
            - 관리자
        - 관리자는 서비스와 상관없이 고정된 사용자이다.
            - 다른 회원가입 과정을 통해 만들어진 사용자는 관리자가 될 수 없다.
    - profile
        - 일반 사용자는 자신의 일자리를 검색 후 요청을 보낸다.(예: bbq*울산*삼산점 검색)
        - 매장 매니저는 요청을 수락/거절할 수 있다.
            - 매니저가 수락을 하면 User의 소속은 매장이 된다.(User.groub = bbq*울산*삼산점)
        - 수락이 되었다면 일을 시작한 날짜를 선택한다. ~~정해진 일하는 시간을 입력한다.~~
            - ~~만약 고정된 시간으로 아르바이트를 하지 않는 경우에는 일하는 시간을 입력하지 않을 수 있다.~~

2. **출근 관리하기**
    - 사용자의 위치에 기반하여 출근을 기록할 수 있다.
        - `출근하기` / `퇴근하기` 버튼을 클릭하면 시스템 시간에 기반해 출퇴근 시간이 DB에 자동으로 저장된다.
        - 중복출근 기록을 방지하기 위하여 서버에서는 해당 날짜에 기록된 출근이 있는지 확인 후 저장한다.
            - 기록된 시간이 이미 있는 경우에는 출근 시간 등록이 거절된다.
            - 만약 퇴근 시간이 자신의 퇴근시간 보다 길다면 추가정산이 이루어진다.
        - `쉬는 시간`  버튼을 클릭하면 시스템 시간에 기반하여 쉬는시간이 DB에 자동으로 저장된다.
    - 매장 관리자는 모든 아르바이트생의 출근시간을 확인할 수 있다.
        - 각 아르바이트 생의 이름, 출근 날짜 및 시간 등의 정보를 확인할 수 있다.
        - 매장 관리자는 아르바이트생의 출근 정보를 수정 가능하다.

3. **급여 확인하기**
    - 모든 매장은 시급으로 계산한다.
        - 시급은 해당 매장마다 차이가 있을 수 있다.
    - 알바생은 자신의 급여를 확인 할 수 있다.
        - 기본 급여에 더해 주휴, 연장, 야간수당으로 추가 지급 된 급여를 확인 할 수 있다.
        - 근무기간을 설정할 수 있으며, 해당 기간에 기록된 근무 시간에 따른 총 급여가 자동으로 산출된다.
    - 매장 관리자는 아르바이트생의 예정 급여를 확인하고 수정 할 수 있다.

4. **퇴직금 확인하기**
    - 퇴직금 지급 기준에 해당하지 않는 경우에는 퇴직금 확인 페이지에서 해당 없음을 확인 가능하다.
    - 퇴직금 지급 기준에 해당하는 경우 자신이 받을 퇴직금이 얼마인지 확인 가능하다.
    - 아르바이트 하는 매장 별로 확인 가능하다.

5. **근무표 확인하기**
    - 아르바이트생은 각각 매장의 근무표 확인이 가능하다.
    - 아르바이트생은 근무일정 변경 신청을 할 수 있다.
        - 날짜변경 / 추가업무신청 / 대타신청 등
        - 변경 이유 기재
    - 매장 직원은 아르바이트생의 근무일정 변경 신청을 수락/거절 할 수 있다.
        - 수락/거절 이유 기재
    - 매장 직원은 아르바이트생에게 각자의 역할을 분담 시킬 수 있다.
        - 캐셔 / 서빙 / 주방담당 등
    - 매장 직원은 아르바이트 생의 정보, 근무 스케줄을 DB에 저장할 수 있다.

1. **매장 커뮤니티**
    - 매장 멤버만 접근 할 수 있다.
    - 매장에 대해 간략하게 글쓰기와 댓글을 달 수 있다.
    - 공지글을 작성 할 경우 최신순으로 게시판 상단에 노출된다.